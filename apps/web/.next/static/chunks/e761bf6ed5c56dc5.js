(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,64036,e=>{"use strict";var t=e.i(43476),r=e.i(52088);function s({children:e,className:s,hover:a=!1,onClick:l}){return(0,t.jsx)("div",{className:(0,r.cn)("rounded-xl border border-card-border bg-card-background p-6",a&&"card-hover cursor-pointer",l&&"cursor-pointer",s),onClick:l,children:e})}function a({children:e,className:s}){return(0,t.jsx)("div",{className:(0,r.cn)("mb-4",s),children:e})}function l({children:e,className:s}){return(0,t.jsx)("h3",{className:(0,r.cn)("text-lg font-semibold text-foreground",s),children:e})}function n({children:e,className:s}){return(0,t.jsx)("p",{className:(0,r.cn)("text-sm text-foreground-muted mt-1",s),children:e})}function i({children:e,className:s}){return(0,t.jsx)("div",{className:(0,r.cn)("",s),children:e})}function c({children:e,className:s}){return(0,t.jsx)("div",{className:(0,r.cn)("mt-4 pt-4 border-t border-card-border",s),children:e})}e.s(["Card",()=>s,"CardContent",()=>i,"CardDescription",()=>n,"CardFooter",()=>c,"CardHeader",()=>a,"CardTitle",()=>l])},70273,e=>{"use strict";let t=(0,e.i(75254).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>t],70273)},12464,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(67594),a=e.i(93571),l=e.i(64036),n=e.i(64030),i=e.i(75254);let c=(0,i.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var d=e.i(70273),o=e.i(25652);let m=(0,i.default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var x=e.i(20278),u=e.i(42009);let h={bronze:"from-amber-700 to-amber-500",silver:"from-gray-400 to-gray-300",gold:"from-yellow-500 to-yellow-300",platinum:"from-cyan-400 to-purple-400"},g={bronze:"bg-amber-900/30 border-amber-700",silver:"bg-gray-700/30 border-gray-500",gold:"bg-yellow-900/30 border-yellow-600",platinum:"bg-gradient-to-br from-cyan-900/30 to-purple-900/30 border-purple-500"},p={scoring:(0,t.jsx)(x.Target,{className:"w-5 h-5"}),consistency:(0,t.jsx)(d.Star,{className:"w-5 h-5"}),improvement:(0,t.jsx)(o.TrendingUp,{className:"w-5 h-5"}),milestones:(0,t.jsx)(u.Award,{className:"w-5 h-5"}),social:(0,t.jsx)(m,{className:"w-5 h-5"})},f={scoring:"Scoring",consistency:"Consistency",improvement:"Improvement",milestones:"Milestones",social:"Social"};function b(){let{user:e}=(0,a.useUser)(),i=(0,s.createClient)(),[d,o]=(0,r.useState)([]),[m,x]=(0,r.useState)([]),[u,b]=(0,r.useState)(!0),[j,v]=(0,r.useState)("all"),y=(0,r.useCallback)(async()=>{let{data:t,error:r}=await i.from("achievement_definitions").select("*").order("category").order("tier");if(r?console.error("Error fetching achievements:",r):o(t||[]),e){let{data:t,error:r}=await i.from("user_achievements").select("*").eq("user_id",e.id);r?console.error("Error fetching user achievements:",r):x(t||[])}b(!1)},[i,e]);(0,r.useEffect)(()=>{y()},[y]);let N=new Set(m.map(e=>e.achievement_id)),w=m.reduce((e,t)=>{let r=d.find(e=>e.id===t.achievement_id);return e+(r?.points||0)},0),k="all"===j?d:d.filter(e=>e.category===j);return u?(0,t.jsx)("div",{className:"p-6 space-y-6",children:(0,t.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,t.jsx)("div",{className:"h-8 bg-background-tertiary rounded w-48"}),(0,t.jsx)("div",{className:"h-32 bg-background-tertiary rounded"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:[1,2,3,4].map(e=>(0,t.jsx)("div",{className:"h-24 bg-background-tertiary rounded"},e))})]})}):(0,t.jsxs)("div",{className:"p-6 space-y-6 max-w-5xl mx-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[(0,t.jsx)(n.Trophy,{className:"w-7 h-7 text-accent-amber"}),"Achievements"]}),(0,t.jsxs)("p",{className:"text-foreground-muted",children:[m.length," of ",d.length," unlocked"]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-3xl font-bold gradient-text",children:w}),(0,t.jsx)("div",{className:"text-sm text-foreground-muted",children:"Total Points"})]})]}),(0,t.jsx)(l.Card,{children:(0,t.jsx)(l.CardContent,{className:"py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("div",{className:"h-4 bg-background-tertiary rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-accent-green via-accent-blue to-purple-500 transition-all duration-500",style:{width:`${m.length/d.length*100}%`}})})}),(0,t.jsxs)("div",{className:"text-sm font-medium",children:[Math.round(m.length/d.length*100),"%"]})]})})}),(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:["all","scoring","consistency","improvement","milestones","social"].map(e=>(0,t.jsxs)("button",{onClick:()=>v(e),className:`
              px-4 py-2 rounded-full text-sm font-medium whitespace-nowrap
              transition-all flex items-center gap-2
              ${j===e?"bg-accent-green text-white":"bg-background-secondary hover:bg-background-tertiary"}
            `,children:["all"!==e&&p[e],"all"===e?"All":f[e]]},e))}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:k.map(e=>{let r=N.has(e.id),s=m.find(t=>t.achievement_id===e.id);return(0,t.jsxs)(l.Card,{className:`
                relative overflow-hidden transition-all
                ${r?g[e.tier]:"opacity-60"}
              `,children:[r&&(0,t.jsx)("div",{className:`
                    absolute top-0 right-0 w-32 h-32 
                    bg-gradient-to-bl ${h[e.tier]} 
                    opacity-10 rounded-bl-full
                  `}),(0,t.jsxs)(l.CardContent,{className:"p-4 flex items-start gap-4",children:[(0,t.jsx)("div",{className:`
                    text-4xl w-16 h-16 flex items-center justify-center rounded-xl
                    ${r?`bg-gradient-to-br ${h[e.tier]}`:"bg-background-tertiary"}
                  `,children:r?e.icon:(0,t.jsx)(c,{className:"w-6 h-6 text-foreground-muted"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("h3",{className:"font-semibold truncate",children:e.name}),(0,t.jsx)("span",{className:`
                        text-xs px-2 py-0.5 rounded-full capitalize
                        ${r?`bg-gradient-to-r ${h[e.tier]} text-white`:"bg-background-tertiary"}
                      `,children:e.tier})]}),(0,t.jsx)("p",{className:"text-sm text-foreground-muted mb-2",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-xs text-foreground-muted flex items-center gap-1",children:[p[e.category],f[e.category]]}),(0,t.jsxs)("span",{className:"text-sm font-medium text-accent-amber",children:["+",e.points," pts"]})]}),r&&s&&(0,t.jsxs)("p",{className:"text-xs text-accent-green mt-2",children:["Unlocked ",new Date(s.unlocked_at).toLocaleDateString()]})]})]})]},e.id)})}),m.length>0&&(0,t.jsxs)(l.Card,{children:[(0,t.jsx)(l.CardHeader,{children:(0,t.jsx)(l.CardTitle,{className:"text-lg",children:"Recently Unlocked"})}),(0,t.jsx)(l.CardContent,{children:(0,t.jsx)("div",{className:"flex gap-4 overflow-x-auto pb-2",children:m.sort((e,t)=>new Date(t.unlocked_at).getTime()-new Date(e.unlocked_at).getTime()).slice(0,5).map(e=>{let r=d.find(t=>t.id===e.achievement_id);return r?(0,t.jsxs)("div",{className:"flex-shrink-0 text-center w-20",children:[(0,t.jsx)("div",{className:`
                          text-3xl w-16 h-16 mx-auto mb-2 flex items-center justify-center rounded-xl
                          bg-gradient-to-br ${h[r.tier]}
                        `,children:r.icon}),(0,t.jsx)("p",{className:"text-xs font-medium truncate",children:r.name})]},e.id):null})})})]}),0===m.length&&(0,t.jsx)(l.Card,{children:(0,t.jsxs)(l.CardContent,{className:"py-12 text-center",children:[(0,t.jsx)(n.Trophy,{className:"w-16 h-16 mx-auto text-foreground-muted mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No achievements yet"}),(0,t.jsx)("p",{className:"text-foreground-muted",children:"Play rounds and improve your game to unlock achievements!"})]})})]})}e.s(["default",()=>b],12464)}]);
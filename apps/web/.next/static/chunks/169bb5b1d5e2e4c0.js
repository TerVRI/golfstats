(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let r=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>r],31278)},64036,e=>{"use strict";var r=e.i(43476),t=e.i(52088);function a({children:e,className:a,hover:s=!1,onClick:c}){return(0,r.jsx)("div",{className:(0,t.cn)("rounded-xl border border-card-border bg-card-background p-6",s&&"card-hover cursor-pointer",c&&"cursor-pointer",a),onClick:c,children:e})}function s({children:e,className:a}){return(0,r.jsx)("div",{className:(0,t.cn)("mb-4",a),children:e})}function c({children:e,className:a}){return(0,r.jsx)("h3",{className:(0,t.cn)("text-lg font-semibold text-foreground",a),children:e})}function n({children:e,className:a}){return(0,r.jsx)("p",{className:(0,t.cn)("text-sm text-foreground-muted mt-1",a),children:e})}function d({children:e,className:a}){return(0,r.jsx)("div",{className:(0,t.cn)("",a),children:e})}function l({children:e,className:a}){return(0,r.jsx)("div",{className:(0,t.cn)("mt-4 pt-4 border-t border-card-border",a),children:e})}e.s(["Card",()=>a,"CardContent",()=>d,"CardDescription",()=>n,"CardFooter",()=>l,"CardHeader",()=>s,"CardTitle",()=>c])},10012,e=>{"use strict";var r=e.i(43476),t=e.i(52088);let a=(0,e.i(71645).forwardRef)(({className:e,label:a,error:s,id:c,...n},d)=>{let l=c||a?.toLowerCase().replace(/\s+/g,"-");return(0,r.jsxs)("div",{className:"w-full",children:[a&&(0,r.jsx)("label",{htmlFor:l,className:"block text-sm font-medium text-foreground-muted mb-1.5",children:a}),(0,r.jsx)("input",{ref:d,id:l,className:(0,t.cn)("w-full px-3 py-2 rounded-lg","bg-background-secondary border border-card-border","text-foreground placeholder:text-foreground-muted/50","focus:outline-none focus:ring-2 focus:ring-accent-blue focus:border-transparent","transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed",s&&"border-accent-red focus:ring-accent-red",e),...n}),s&&(0,r.jsx)("p",{className:"mt-1.5 text-sm text-accent-red",children:s})]})});a.displayName="Input",e.s(["Input",0,a])},80707,e=>{"use strict";var r=e.i(43476),t=e.i(52088);let a=(0,e.i(71645).forwardRef)(({className:e,label:a,error:s,id:c,options:n,placeholder:d,...l},o)=>{let i=c||a?.toLowerCase().replace(/\s+/g,"-");return(0,r.jsxs)("div",{className:"w-full",children:[a&&(0,r.jsx)("label",{htmlFor:i,className:"block text-sm font-medium text-foreground-muted mb-1.5",children:a}),(0,r.jsxs)("select",{ref:o,id:i,className:(0,t.cn)("w-full px-3 py-2 rounded-lg appearance-none","bg-background-secondary border border-card-border","text-foreground","focus:outline-none focus:ring-2 focus:ring-accent-blue focus:border-transparent","transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed","cursor-pointer",s&&"border-accent-red focus:ring-accent-red",e),style:{backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2394a3b8' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\")",backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},...l,children:[d&&(0,r.jsx)("option",{value:"",disabled:!0,children:d}),n.map(e=>(0,r.jsx)("option",{value:e.value,children:e.label},e.value))]}),s&&(0,r.jsx)("p",{className:"mt-1.5 text-sm text-accent-red",children:s})]})});a.displayName="Select",e.s(["Select",0,a])},90042,e=>{"use strict";var r=e.i(43476),t=e.i(52088);function a({className:e}){return(0,r.jsx)("div",{className:(0,t.cn)("animate-pulse rounded-lg bg-background-tertiary",e)})}function s(){return(0,r.jsxs)("div",{className:"rounded-xl border border-card-border bg-card-background p-6",children:[(0,r.jsx)(a,{className:"h-4 w-24 mb-4"}),(0,r.jsx)(a,{className:"h-8 w-32 mb-2"}),(0,r.jsx)(a,{className:"h-3 w-20"})]})}function c(){return(0,r.jsxs)("div",{className:"rounded-xl border border-card-border bg-card-background p-6",children:[(0,r.jsx)(a,{className:"h-5 w-40 mb-6"}),(0,r.jsx)(a,{className:"h-[250px] w-full"})]})}function n(){return(0,r.jsxs)("div",{className:"rounded-xl border border-card-border bg-card-background p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,r.jsx)(a,{className:"w-12 h-12 rounded-xl"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)(a,{className:"h-5 w-48 mb-2"}),(0,r.jsx)(a,{className:"h-3 w-24"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,r.jsx)(a,{className:"h-16"}),(0,r.jsx)(a,{className:"h-16"}),(0,r.jsx)(a,{className:"h-16"}),(0,r.jsx)(a,{className:"h-16"})]})]})}e.s(["CardSkeleton",()=>s,"ChartSkeleton",()=>c,"RoundCardSkeleton",()=>n,"Skeleton",()=>a])},47129,e=>{"use strict";e.i(64036),e.i(85902),e.i(10012),e.i(80707),e.i(90042),e.s([])},74489,e=>{"use strict";var r=e.i(43476),t=e.i(71645);e.i(47129);var a=e.i(64036),s=e.i(85902),c=e.i(67594),n=e.i(52088),d=e.i(64030),l=e.i(75254);let o=(0,l.default)("medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);var i=e.i(20278),u=e.i(25652),m=e.i(84614),x=e.i(31278);let h=(0,l.default)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);var g=e.i(42009);function f(){let e=(0,c.createClient)(),[l,f]=(0,t.useState)([]),[p,b]=(0,t.useState)(!0),[j,N]=(0,t.useState)("handicap"),[v,w]=(0,t.useState)(null);async function y(){b(!0);try{let{data:{user:r}}=await e.auth.getUser();w(r?.id||null);let{data:t,error:a}=await e.from("profiles").select("id, name, email, handicap, is_public").eq("is_public",!0);if(a)throw a;let s=[];for(let r of t||[]){let{data:t}=await e.from("rounds").select("total_score, sg_total").eq("user_id",r.id);if(t&&t.length>0){let e=t.reduce((e,r)=>e+r.total_score,0)/t.length,a=Math.min(...t.map(e=>e.total_score)),c=t.reduce((e,r)=>e+(r.sg_total||0),0)/t.length;s.push({id:r.id,name:r.name,email:r.email,handicap:r.handicap,avg_score:Math.round(10*e)/10,best_score:a,rounds_count:t.length,avg_sg:Math.round(100*c)/100})}}if(r&&!s.find(e=>e.id===r.id)){let{data:t}=await e.from("profiles").select("id, name, email, handicap").eq("id",r.id).single(),{data:a}=await e.from("rounds").select("total_score, sg_total").eq("user_id",r.id);if(t&&a&&a.length>0){let e=a.reduce((e,r)=>e+r.total_score,0)/a.length,r=Math.min(...a.map(e=>e.total_score)),c=a.reduce((e,r)=>e+(r.sg_total||0),0)/a.length;s.push({id:t.id,name:t.name,email:t.email,handicap:t.handicap,avg_score:Math.round(10*e)/10,best_score:r,rounds_count:a.length,avg_sg:Math.round(100*c)/100})}}f(s)}catch(e){console.error("Error loading leaderboard:",e)}finally{b(!1)}}(0,t.useEffect)(()=>{y()},[]);let _=(()=>{let e=[...l];switch(j){case"handicap":return e.filter(e=>null!==e.handicap).sort((e,r)=>(e.handicap||99)-(r.handicap||99));case"avg_score":return e.sort((e,r)=>e.avg_score-r.avg_score);case"best_score":return e.sort((e,r)=>e.best_score-r.best_score);case"strokes_gained":return e.sort((e,r)=>r.avg_sg-e.avg_sg);default:return e}})();return p?(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsx)(x.Loader2,{className:"w-8 h-8 animate-spin text-accent-green"})}):(0,r.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,r.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"Leaderboard"}),(0,r.jsx)("p",{className:"text-foreground-muted mt-1",children:"See how you stack up against other golfers"})]})}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:[{value:"handicap",label:"Handicap",icon:g.Award},{value:"avg_score",label:"Avg Score",icon:i.Target},{value:"best_score",label:"Best Score",icon:d.Trophy},{value:"strokes_gained",label:"Strokes Gained",icon:u.TrendingUp}].map(e=>{let t=e.icon;return(0,r.jsxs)(s.Button,{variant:j===e.value?"primary":"secondary",size:"sm",onClick:()=>N(e.value),children:[(0,r.jsx)(t,{className:"w-4 h-4 mr-2"}),e.label]},e.value)})}),_.length>0?(0,r.jsx)(a.Card,{children:(0,r.jsx)(a.CardContent,{className:"p-0",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"border-b border-card-border",children:[(0,r.jsx)("th",{className:"p-4 text-left text-foreground-muted font-medium w-16",children:"Rank"}),(0,r.jsx)("th",{className:"p-4 text-left text-foreground-muted font-medium",children:"Player"}),(0,r.jsx)("th",{className:"p-4 text-center text-foreground-muted font-medium",children:"Rounds"}),(0,r.jsx)("th",{className:"p-4 text-center text-foreground-muted font-medium",children:"Avg Score"}),(0,r.jsx)("th",{className:"p-4 text-center text-foreground-muted font-medium",children:"Best"}),(0,r.jsx)("th",{className:"p-4 text-right text-foreground-muted font-medium",children:"handicap"===j?"Handicap":"avg_score"===j?"Avg Score":"best_score"===j?"Best Score":"Avg SG"})]})}),(0,r.jsx)("tbody",{children:_.map((e,t)=>{var a;let s=e.id===v;return(0,r.jsxs)("tr",{className:(0,n.cn)("border-b border-card-border last:border-0 transition-colors",s&&"bg-accent-green/5"),children:[(0,r.jsx)("td",{className:"p-4",children:(0,r.jsx)("div",{className:"w-8 h-8 flex items-center justify-center",children:1===(a=t+1)?(0,r.jsx)(h,{className:"w-5 h-5 text-yellow-400"}):2===a?(0,r.jsx)(o,{className:"w-5 h-5 text-gray-400"}):3===a?(0,r.jsx)(o,{className:"w-5 h-5 text-amber-600"}):(0,r.jsx)("span",{className:"text-foreground-muted font-medium",children:a})})}),(0,r.jsx)("td",{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-full bg-accent-green/10 flex items-center justify-center",children:(0,r.jsx)(m.User,{className:"w-5 h-5 text-accent-green"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:(0,n.cn)("font-medium",s?"text-accent-green":"text-foreground"),children:[e.name||"Anonymous",s&&" (You)"]}),e.handicap&&(0,r.jsxs)("p",{className:"text-xs text-foreground-muted",children:["HCP: ",e.handicap.toFixed(1)]})]})]})}),(0,r.jsx)("td",{className:"p-4 text-center text-foreground-muted",children:e.rounds_count}),(0,r.jsx)("td",{className:"p-4 text-center text-foreground",children:e.avg_score}),(0,r.jsx)("td",{className:"p-4 text-center text-accent-green font-medium",children:e.best_score}),(0,r.jsx)("td",{className:"p-4 text-right",children:(0,r.jsx)("span",{className:(0,n.cn)("font-bold text-lg","strokes_gained"===j?e.avg_sg>=0?"text-accent-green":"text-accent-red":"text-foreground"),children:(e=>{switch(j){case"handicap":return e.handicap?.toFixed(1)??"—";case"avg_score":return e.avg_score.toFixed(1);case"best_score":return e.best_score.toString();case"strokes_gained":return e.avg_sg>=0?`+${e.avg_sg.toFixed(2)}`:e.avg_sg.toFixed(2);default:return"—"}})(e)})})]},e.id)})})]})})})}):(0,r.jsx)(a.Card,{children:(0,r.jsxs)(a.CardContent,{className:"py-12 text-center",children:[(0,r.jsx)(d.Trophy,{className:"w-12 h-12 text-foreground-muted mx-auto mb-4"}),(0,r.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No players yet"}),(0,r.jsx)("p",{className:"text-foreground-muted mb-4",children:"Be the first to make your profile public and appear on the leaderboard!"}),(0,r.jsx)("p",{className:"text-sm text-foreground-muted",children:'Go to Profile → Edit Profile → Enable "Make profile public"'})]})}),(0,r.jsx)(a.Card,{className:"border-accent-blue/20",children:(0,r.jsx)(a.CardContent,{className:"py-4",children:(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-lg bg-accent-blue/10 flex items-center justify-center flex-shrink-0",children:(0,r.jsx)(m.User,{className:"w-5 h-5 text-accent-blue"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-medium text-foreground mb-1",children:"Privacy Notice"}),(0,r.jsx)("p",{className:"text-sm text-foreground-muted",children:'Only players who have enabled "Make profile public" in their profile settings appear on this leaderboard. Your stats are private by default. Go to Profile to update your visibility settings.'})]})]})})})]})}e.s(["default",()=>f],74489)}]);
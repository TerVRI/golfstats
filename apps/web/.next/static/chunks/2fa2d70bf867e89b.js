(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},64036,e=>{"use strict";var t=e.i(43476),r=e.i(52088);function s({children:e,className:s,hover:a=!1,onClick:n}){return(0,t.jsx)("div",{className:(0,r.cn)("rounded-xl border border-card-border bg-card-background p-6",a&&"card-hover cursor-pointer",n&&"cursor-pointer",s),onClick:n,children:e})}function a({children:e,className:s}){return(0,t.jsx)("div",{className:(0,r.cn)("mb-4",s),children:e})}function n({children:e,className:s}){return(0,t.jsx)("h3",{className:(0,r.cn)("text-lg font-semibold text-foreground",s),children:e})}function c({children:e,className:s}){return(0,t.jsx)("p",{className:(0,r.cn)("text-sm text-foreground-muted mt-1",s),children:e})}function d({children:e,className:s}){return(0,t.jsx)("div",{className:(0,r.cn)("",s),children:e})}function l({children:e,className:s}){return(0,t.jsx)("div",{className:(0,r.cn)("mt-4 pt-4 border-t border-card-border",s),children:e})}e.s(["Card",()=>s,"CardContent",()=>d,"CardDescription",()=>c,"CardFooter",()=>l,"CardHeader",()=>a,"CardTitle",()=>n])},10012,e=>{"use strict";var t=e.i(43476),r=e.i(52088);let s=(0,e.i(71645).forwardRef)(({className:e,label:s,error:a,id:n,...c},d)=>{let l=n||s?.toLowerCase().replace(/\s+/g,"-");return(0,t.jsxs)("div",{className:"w-full",children:[s&&(0,t.jsx)("label",{htmlFor:l,className:"block text-sm font-medium text-foreground-muted mb-1.5",children:s}),(0,t.jsx)("input",{ref:d,id:l,className:(0,r.cn)("w-full px-3 py-2 rounded-lg","bg-background-secondary border border-card-border","text-foreground placeholder:text-foreground-muted/50","focus:outline-none focus:ring-2 focus:ring-accent-blue focus:border-transparent","transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed",a&&"border-accent-red focus:ring-accent-red",e),...c}),a&&(0,t.jsx)("p",{className:"mt-1.5 text-sm text-accent-red",children:a})]})});s.displayName="Input",e.s(["Input",0,s])},80707,e=>{"use strict";var t=e.i(43476),r=e.i(52088);let s=(0,e.i(71645).forwardRef)(({className:e,label:s,error:a,id:n,options:c,placeholder:d,...l},o)=>{let i=n||s?.toLowerCase().replace(/\s+/g,"-");return(0,t.jsxs)("div",{className:"w-full",children:[s&&(0,t.jsx)("label",{htmlFor:i,className:"block text-sm font-medium text-foreground-muted mb-1.5",children:s}),(0,t.jsxs)("select",{ref:o,id:i,className:(0,r.cn)("w-full px-3 py-2 rounded-lg appearance-none","bg-background-secondary border border-card-border","text-foreground","focus:outline-none focus:ring-2 focus:ring-accent-blue focus:border-transparent","transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed","cursor-pointer",a&&"border-accent-red focus:ring-accent-red",e),style:{backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2394a3b8' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\")",backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},...l,children:[d&&(0,t.jsx)("option",{value:"",disabled:!0,children:d}),c.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]}),a&&(0,t.jsx)("p",{className:"mt-1.5 text-sm text-accent-red",children:a})]})});s.displayName="Select",e.s(["Select",0,s])},90042,e=>{"use strict";var t=e.i(43476),r=e.i(52088);function s({className:e}){return(0,t.jsx)("div",{className:(0,r.cn)("animate-pulse rounded-lg bg-background-tertiary",e)})}function a(){return(0,t.jsxs)("div",{className:"rounded-xl border border-card-border bg-card-background p-6",children:[(0,t.jsx)(s,{className:"h-4 w-24 mb-4"}),(0,t.jsx)(s,{className:"h-8 w-32 mb-2"}),(0,t.jsx)(s,{className:"h-3 w-20"})]})}function n(){return(0,t.jsxs)("div",{className:"rounded-xl border border-card-border bg-card-background p-6",children:[(0,t.jsx)(s,{className:"h-5 w-40 mb-6"}),(0,t.jsx)(s,{className:"h-[250px] w-full"})]})}function c(){return(0,t.jsxs)("div",{className:"rounded-xl border border-card-border bg-card-background p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsx)(s,{className:"w-12 h-12 rounded-xl"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(s,{className:"h-5 w-48 mb-2"}),(0,t.jsx)(s,{className:"h-3 w-24"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,t.jsx)(s,{className:"h-16"}),(0,t.jsx)(s,{className:"h-16"}),(0,t.jsx)(s,{className:"h-16"}),(0,t.jsx)(s,{className:"h-16"})]})]})}e.s(["CardSkeleton",()=>a,"ChartSkeleton",()=>n,"RoundCardSkeleton",()=>c,"Skeleton",()=>s])},47129,e=>{"use strict";e.i(64036),e.i(85902),e.i(10012),e.i(80707),e.i(90042),e.s([])},87316,e=>{"use strict";let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},35408,e=>{"use strict";let t=(0,e.i(75254).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);e.s(["TrendingDown",()=>t],35408)},67652,e=>{"use strict";var t=e.i(43476),r=e.i(71645);e.i(47129);var s=e.i(64036),a=e.i(85902),n=e.i(10012),c=e.i(67594),d=e.i(84614),l=e.i(64030),o=e.i(20278),i=e.i(25652),u=e.i(35408),x=e.i(87316),m=e.i(46897);let g=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var h=e.i(31278),p=e.i(42009),f=e.i(5899);function b(){let e=(0,c.createClient)(),[b,j]=(0,r.useState)(null),[N,v]=(0,r.useState)(null),[y,w]=(0,r.useState)(!0),[k,_]=(0,r.useState)(!1),[C,S]=(0,r.useState)(!1),[M,T]=(0,r.useState)(""),[H,R]=(0,r.useState)(""),[I,B]=(0,r.useState)(""),[F,A]=(0,r.useState)(!1);(0,r.useEffect)(()=>{!async function(){w(!0);try{let{data:{user:t}}=await e.auth.getUser();if(!t)return;let{data:r}=await e.from("profiles").select("*").eq("id",t.id).single();r&&(j(r),T(r.name||""),R(r.bio||""),B(r.home_course||""),A(r.is_public||!1));let{data:s}=await e.from("rounds").select("total_score, total_putts, gir, fairways_hit, fairways_total, course_rating, slope_rating").eq("user_id",t.id);if(s&&s.length>0){let e=s.length,t=s.reduce((e,t)=>e+t.total_score,0)/e,r=Math.min(...s.map(e=>e.total_score)),a=Math.max(...s.map(e=>e.total_score)),n=s.reduce((e,t)=>e+(t.total_putts||0),0)/e,c=s.reduce((e,t)=>e+(t.gir||0),0)/e,d=s.reduce((e,t)=>e+(t.fairways_hit||0)/(t.fairways_total||14),0)/e*100,l=s.filter(e=>e.course_rating&&e.slope_rating),o=null;if(l.length>=3){let e=l.map(e=>(e.total_score-e.course_rating)*113/e.slope_rating).sort((e,t)=>e-t),t=Math.max(1,Math.floor(.4*e.length)),r=e.slice(0,t);o=Math.round(r.reduce((e,t)=>e+t,0)/r.length*9.6)/10}v({total_rounds:e,avg_score:Math.round(10*t)/10,best_score:r,worst_score:a,avg_putts:Math.round(10*n)/10,avg_gir:Math.round(10*c)/10,avg_fairways:Math.round(d),calculated_handicap:o})}}catch(e){console.error("Error loading profile:",e)}finally{w(!1)}}()},[e]);let P=async()=>{if(b){_(!0);try{let{error:t}=await e.from("profiles").update({name:M,bio:H,home_course:I,is_public:F,handicap:N?.calculated_handicap}).eq("id",b.id);if(t)throw t;j({...b,name:M,bio:H,home_course:I,is_public:F,handicap:N?.calculated_handicap||null}),S(!1)}catch(e){console.error("Error saving profile:",e)}finally{_(!1)}}};return y?(0,t.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,t.jsx)(h.Loader2,{className:"w-8 h-8 animate-spin text-accent-green"})}):(0,t.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"Profile"}),(0,t.jsx)("p",{className:"text-foreground-muted mt-1",children:"Your golf profile and statistics"})]}),C?(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(a.Button,{variant:"secondary",onClick:()=>S(!1),children:"Cancel"}),(0,t.jsxs)(a.Button,{onClick:P,disabled:k,children:[k?(0,t.jsx)(h.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}):(0,t.jsx)(g,{className:"w-4 h-4 mr-2"}),"Save"]})]}):(0,t.jsx)(a.Button,{onClick:()=>S(!0),children:"Edit Profile"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsx)(s.Card,{className:"lg:col-span-1",children:(0,t.jsxs)(s.CardContent,{className:"pt-6",children:[(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-24 h-24 rounded-full bg-accent-green/10 flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(d.User,{className:"w-12 h-12 text-accent-green"})}),C?(0,t.jsxs)("div",{className:"space-y-4 text-left",children:[(0,t.jsx)(n.Input,{label:"Name",value:M,onChange:e=>T(e.target.value),placeholder:"Your name"}),(0,t.jsx)(n.Input,{label:"Home Course",value:I,onChange:e=>B(e.target.value),placeholder:"Your home course"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-foreground-muted mb-2",children:"Bio"}),(0,t.jsx)("textarea",{value:H,onChange:e=>R(e.target.value),placeholder:"Tell us about your golf game...",className:"w-full px-4 py-2 rounded-lg bg-background-secondary border border-card-border text-foreground placeholder:text-foreground-muted/50 focus:outline-none focus:ring-2 focus:ring-accent-green resize-none",rows:3})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:F,onChange:e=>A(e.target.checked),className:"w-4 h-4 rounded border-card-border text-accent-green focus:ring-accent-green"}),(0,t.jsx)("span",{className:"text-sm text-foreground-muted",children:"Make profile public"})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-foreground",children:b?.name||"Golfer"}),(0,t.jsx)("p",{className:"text-foreground-muted text-sm",children:b?.email}),b?.home_course&&(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1 mt-2 text-foreground-muted",children:[(0,t.jsx)(m.MapPin,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"text-sm",children:b.home_course})]}),b?.bio&&(0,t.jsx)("p",{className:"mt-4 text-foreground-muted text-sm",children:b.bio})]})]}),(0,t.jsxs)("div",{className:"mt-6 p-4 rounded-lg bg-gradient-to-br from-accent-green/10 to-accent-blue/10 text-center",children:[(0,t.jsx)("p",{className:"text-sm text-foreground-muted mb-1",children:"Handicap Index"}),(0,t.jsx)("p",{className:"text-4xl font-bold text-accent-green",children:N?.calculated_handicap?.toFixed(1)??"N/A"}),N&&N.total_rounds<3&&(0,t.jsxs)("p",{className:"text-xs text-foreground-muted mt-2",children:["Need ",3-N.total_rounds," more rounds with ratings"]})]})]})}),(0,t.jsxs)(s.Card,{className:"lg:col-span-2",children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsxs)(s.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(l.Trophy,{className:"w-5 h-5 text-accent-amber"}),"Career Statistics"]})}),(0,t.jsx)(s.CardContent,{children:N?(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"p-4 rounded-lg bg-background-secondary text-center",children:[(0,t.jsx)(x.Calendar,{className:"w-5 h-5 text-accent-blue mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-foreground",children:N.total_rounds}),(0,t.jsx)("p",{className:"text-xs text-foreground-muted",children:"Rounds Played"})]}),(0,t.jsxs)("div",{className:"p-4 rounded-lg bg-background-secondary text-center",children:[(0,t.jsx)(o.Target,{className:"w-5 h-5 text-accent-purple mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-foreground",children:N.avg_score}),(0,t.jsx)("p",{className:"text-xs text-foreground-muted",children:"Average Score"})]}),(0,t.jsxs)("div",{className:"p-4 rounded-lg bg-background-secondary text-center",children:[(0,t.jsx)(u.TrendingDown,{className:"w-5 h-5 text-accent-green mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-accent-green",children:N.best_score}),(0,t.jsx)("p",{className:"text-xs text-foreground-muted",children:"Best Score"})]}),(0,t.jsxs)("div",{className:"p-4 rounded-lg bg-background-secondary text-center",children:[(0,t.jsx)(i.TrendingUp,{className:"w-5 h-5 text-accent-red mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-accent-red",children:N.worst_score}),(0,t.jsx)("p",{className:"text-xs text-foreground-muted",children:"Worst Score"})]}),(0,t.jsxs)("div",{className:"p-4 rounded-lg bg-background-secondary text-center",children:[(0,t.jsx)(f.Flag,{className:"w-5 h-5 text-accent-amber mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-foreground",children:N.avg_putts}),(0,t.jsx)("p",{className:"text-xs text-foreground-muted",children:"Avg Putts/Round"})]}),(0,t.jsxs)("div",{className:"p-4 rounded-lg bg-background-secondary text-center",children:[(0,t.jsx)(o.Target,{className:"w-5 h-5 text-accent-green mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-foreground",children:N.avg_gir}),(0,t.jsx)("p",{className:"text-xs text-foreground-muted",children:"Avg GIR/Round"})]}),(0,t.jsxs)("div",{className:"p-4 rounded-lg bg-background-secondary text-center",children:[(0,t.jsx)(p.Award,{className:"w-5 h-5 text-accent-blue mx-auto mb-2"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-foreground",children:[N.avg_fairways,"%"]}),(0,t.jsx)("p",{className:"text-xs text-foreground-muted",children:"Fairways Hit"})]}),(0,t.jsxs)("div",{className:"p-4 rounded-lg bg-background-secondary text-center",children:[(0,t.jsx)(l.Trophy,{className:"w-5 h-5 text-accent-amber mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-foreground",children:N.calculated_handicap?.toFixed(1)??"—"}),(0,t.jsx)("p",{className:"text-xs text-foreground-muted",children:"Handicap Index"})]})]}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(o.Target,{className:"w-12 h-12 text-foreground-muted mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-foreground-muted",children:"No rounds logged yet"}),(0,t.jsx)("p",{className:"text-sm text-foreground-muted",children:"Start logging rounds to see your statistics"})]})})]})]}),(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{children:"How Handicap Index is Calculated"})}),(0,t.jsx)(s.CardContent,{children:(0,t.jsxs)("div",{className:"prose prose-invert max-w-none",children:[(0,t.jsx)("p",{className:"text-foreground-muted",children:"Your Handicap Index is calculated using the World Handicap System (WHS) formula:"}),(0,t.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-foreground-muted mt-4",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{className:"text-foreground",children:"Score Differential"})," = (Score - Course Rating) × 113 ÷ Slope Rating"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{className:"text-foreground",children:"Best Differentials"})," = Average of best 40% of your last 20 rounds"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{className:"text-foreground",children:"Handicap Index"})," = Best Differentials × 0.96"]})]}),(0,t.jsxs)("p",{className:"text-foreground-muted mt-4",children:["You need at least ",(0,t.jsx)("strong",{className:"text-foreground",children:"3 rounds"})," with course and slope ratings to calculate your handicap. For best accuracy, enter the course rating and slope for each round you log."]})]})})]})]})}e.s(["default",()=>b],67652)}]);
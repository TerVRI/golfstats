module.exports=[96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},92552,a=>{"use strict";var b=a.i(87924),c=a.i(760);function d({children:a,className:d,hover:e=!1,onClick:f}){return(0,b.jsx)("div",{className:(0,c.cn)("rounded-xl border border-card-border bg-card-background p-6",e&&"card-hover cursor-pointer",f&&"cursor-pointer",d),onClick:f,children:a})}function e({children:a,className:d}){return(0,b.jsx)("div",{className:(0,c.cn)("mb-4",d),children:a})}function f({children:a,className:d}){return(0,b.jsx)("h3",{className:(0,c.cn)("text-lg font-semibold text-foreground",d),children:a})}function g({children:a,className:d}){return(0,b.jsx)("p",{className:(0,c.cn)("text-sm text-foreground-muted mt-1",d),children:a})}function h({children:a,className:d}){return(0,b.jsx)("div",{className:(0,c.cn)("",d),children:a})}function i({children:a,className:d}){return(0,b.jsx)("div",{className:(0,c.cn)("mt-4 pt-4 border-t border-card-border",d),children:a})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardFooter",()=>i,"CardHeader",()=>e,"CardTitle",()=>f])},28503,a=>{"use strict";var b=a.i(87924),c=a.i(760);let d=(0,a.i(72131).forwardRef)(({className:a,label:d,error:e,id:f,...g},h)=>{let i=f||d?.toLowerCase().replace(/\s+/g,"-");return(0,b.jsxs)("div",{className:"w-full",children:[d&&(0,b.jsx)("label",{htmlFor:i,className:"block text-sm font-medium text-foreground-muted mb-1.5",children:d}),(0,b.jsx)("input",{ref:h,id:i,className:(0,c.cn)("w-full px-3 py-2 rounded-lg","bg-background-secondary border border-card-border","text-foreground placeholder:text-foreground-muted/50","focus:outline-none focus:ring-2 focus:ring-accent-blue focus:border-transparent","transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed",e&&"border-accent-red focus:ring-accent-red",a),...g}),e&&(0,b.jsx)("p",{className:"mt-1.5 text-sm text-accent-red",children:e})]})});d.displayName="Input",a.s(["Input",0,d])},47885,a=>{"use strict";var b=a.i(87924),c=a.i(760);let d=(0,a.i(72131).forwardRef)(({className:a,label:d,error:e,id:f,options:g,placeholder:h,...i},j)=>{let k=f||d?.toLowerCase().replace(/\s+/g,"-");return(0,b.jsxs)("div",{className:"w-full",children:[d&&(0,b.jsx)("label",{htmlFor:k,className:"block text-sm font-medium text-foreground-muted mb-1.5",children:d}),(0,b.jsxs)("select",{ref:j,id:k,className:(0,c.cn)("w-full px-3 py-2 rounded-lg appearance-none","bg-background-secondary border border-card-border","text-foreground","focus:outline-none focus:ring-2 focus:ring-accent-blue focus:border-transparent","transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed","cursor-pointer",e&&"border-accent-red focus:ring-accent-red",a),style:{backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2394a3b8' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\")",backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},...i,children:[h&&(0,b.jsx)("option",{value:"",disabled:!0,children:h}),g.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]}),e&&(0,b.jsx)("p",{className:"mt-1.5 text-sm text-accent-red",children:e})]})});d.displayName="Select",a.s(["Select",0,d])},52309,a=>{"use strict";var b=a.i(87924),c=a.i(760);function d({className:a}){return(0,b.jsx)("div",{className:(0,c.cn)("animate-pulse rounded-lg bg-background-tertiary",a)})}function e(){return(0,b.jsxs)("div",{className:"rounded-xl border border-card-border bg-card-background p-6",children:[(0,b.jsx)(d,{className:"h-4 w-24 mb-4"}),(0,b.jsx)(d,{className:"h-8 w-32 mb-2"}),(0,b.jsx)(d,{className:"h-3 w-20"})]})}function f(){return(0,b.jsxs)("div",{className:"rounded-xl border border-card-border bg-card-background p-6",children:[(0,b.jsx)(d,{className:"h-5 w-40 mb-6"}),(0,b.jsx)(d,{className:"h-[250px] w-full"})]})}function g(){return(0,b.jsxs)("div",{className:"rounded-xl border border-card-border bg-card-background p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,b.jsx)(d,{className:"w-12 h-12 rounded-xl"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(d,{className:"h-5 w-48 mb-2"}),(0,b.jsx)(d,{className:"h-3 w-24"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,b.jsx)(d,{className:"h-16"}),(0,b.jsx)(d,{className:"h-16"}),(0,b.jsx)(d,{className:"h-16"}),(0,b.jsx)(d,{className:"h-16"})]})]})}a.s(["CardSkeleton",()=>e,"ChartSkeleton",()=>f,"RoundCardSkeleton",()=>g,"Skeleton",()=>d])},58645,a=>{"use strict";a.i(92552),a.i(39524),a.i(28503),a.i(47885),a.i(52309),a.s([])},41675,a=>{"use strict";let b=(0,a.i(70106).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],41675)},53277,a=>{"use strict";let b=(0,a.i(70106).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);a.s(["TrendingDown",()=>b],53277)},96050,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(58645);var d=a.i(92552),e=a.i(39524),f=a.i(28503),g=a.i(51444),h=a.i(46842),i=a.i(83077),j=a.i(50429),k=a.i(24669),l=a.i(53277),m=a.i(41675),n=a.i(24987);let o=(0,a.i(70106).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var p=a.i(96221),q=a.i(93518),r=a.i(94183);function s(){let a=(0,g.createClient)(),[s,t]=(0,c.useState)(null),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(!0),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)(""),[G,H]=(0,c.useState)(""),[I,J]=(0,c.useState)(!1);(0,c.useEffect)(()=>{!async function(){x(!0);try{let{data:{user:b}}=await a.auth.getUser();if(!b)return;let{data:c}=await a.from("profiles").select("*").eq("id",b.id).single();c&&(t(c),D(c.name||""),F(c.bio||""),H(c.home_course||""),J(c.is_public||!1));let{data:d}=await a.from("rounds").select("total_score, total_putts, gir, fairways_hit, fairways_total, course_rating, slope_rating").eq("user_id",b.id);if(d&&d.length>0){let a=d.length,b=d.reduce((a,b)=>a+b.total_score,0)/a,c=Math.min(...d.map(a=>a.total_score)),e=Math.max(...d.map(a=>a.total_score)),f=d.reduce((a,b)=>a+(b.total_putts||0),0)/a,g=d.reduce((a,b)=>a+(b.gir||0),0)/a,h=d.reduce((a,b)=>a+(b.fairways_hit||0)/(b.fairways_total||14),0)/a*100,i=d.filter(a=>a.course_rating&&a.slope_rating),j=null;if(i.length>=3){let a=i.map(a=>(a.total_score-a.course_rating)*113/a.slope_rating).sort((a,b)=>a-b),b=Math.max(1,Math.floor(.4*a.length)),c=a.slice(0,b);j=Math.round(c.reduce((a,b)=>a+b,0)/c.length*9.6)/10}v({total_rounds:a,avg_score:Math.round(10*b)/10,best_score:c,worst_score:e,avg_putts:Math.round(10*f)/10,avg_gir:Math.round(10*g)/10,avg_fairways:Math.round(h),calculated_handicap:j})}}catch(a){console.error("Error loading profile:",a)}finally{x(!1)}}()},[a]);let K=async()=>{if(s){z(!0);try{let{error:b}=await a.from("profiles").update({name:C,bio:E,home_course:G,is_public:I,handicap:u?.calculated_handicap}).eq("id",s.id);if(b)throw b;t({...s,name:C,bio:E,home_course:G,is_public:I,handicap:u?.calculated_handicap||null}),B(!1)}catch(a){console.error("Error saving profile:",a)}finally{z(!1)}}};return w?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(p.Loader2,{className:"w-8 h-8 animate-spin text-accent-green"})}):(0,b.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"Profile"}),(0,b.jsx)("p",{className:"text-foreground-muted mt-1",children:"Your golf profile and statistics"})]}),A?(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{variant:"secondary",onClick:()=>B(!1),children:"Cancel"}),(0,b.jsxs)(e.Button,{onClick:K,disabled:y,children:[y?(0,b.jsx)(p.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}):(0,b.jsx)(o,{className:"w-4 h-4 mr-2"}),"Save"]})]}):(0,b.jsx)(e.Button,{onClick:()=>B(!0),children:"Edit Profile"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,b.jsx)(d.Card,{className:"lg:col-span-1",children:(0,b.jsxs)(d.CardContent,{className:"pt-6",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-24 h-24 rounded-full bg-accent-green/10 flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(h.User,{className:"w-12 h-12 text-accent-green"})}),A?(0,b.jsxs)("div",{className:"space-y-4 text-left",children:[(0,b.jsx)(f.Input,{label:"Name",value:C,onChange:a=>D(a.target.value),placeholder:"Your name"}),(0,b.jsx)(f.Input,{label:"Home Course",value:G,onChange:a=>H(a.target.value),placeholder:"Your home course"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-foreground-muted mb-2",children:"Bio"}),(0,b.jsx)("textarea",{value:E,onChange:a=>F(a.target.value),placeholder:"Tell us about your golf game...",className:"w-full px-4 py-2 rounded-lg bg-background-secondary border border-card-border text-foreground placeholder:text-foreground-muted/50 focus:outline-none focus:ring-2 focus:ring-accent-green resize-none",rows:3})]}),(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:I,onChange:a=>J(a.target.checked),className:"w-4 h-4 rounded border-card-border text-accent-green focus:ring-accent-green"}),(0,b.jsx)("span",{className:"text-sm text-foreground-muted",children:"Make profile public"})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-foreground",children:s?.name||"Golfer"}),(0,b.jsx)("p",{className:"text-foreground-muted text-sm",children:s?.email}),s?.home_course&&(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1 mt-2 text-foreground-muted",children:[(0,b.jsx)(n.MapPin,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-sm",children:s.home_course})]}),s?.bio&&(0,b.jsx)("p",{className:"mt-4 text-foreground-muted text-sm",children:s.bio})]})]}),(0,b.jsxs)("div",{className:"mt-6 p-4 rounded-lg bg-gradient-to-br from-accent-green/10 to-accent-blue/10 text-center",children:[(0,b.jsx)("p",{className:"text-sm text-foreground-muted mb-1",children:"Handicap Index"}),(0,b.jsx)("p",{className:"text-4xl font-bold text-accent-green",children:u?.calculated_handicap?.toFixed(1)??"N/A"}),u&&u.total_rounds<3&&(0,b.jsxs)("p",{className:"text-xs text-foreground-muted mt-2",children:["Need ",3-u.total_rounds," more rounds with ratings"]})]})]})}),(0,b.jsxs)(d.Card,{className:"lg:col-span-2",children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)(d.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(i.Trophy,{className:"w-5 h-5 text-accent-amber"}),"Career Statistics"]})}),(0,b.jsx)(d.CardContent,{children:u?(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"p-4 rounded-lg bg-background-secondary text-center",children:[(0,b.jsx)(m.Calendar,{className:"w-5 h-5 text-accent-blue mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-foreground",children:u.total_rounds}),(0,b.jsx)("p",{className:"text-xs text-foreground-muted",children:"Rounds Played"})]}),(0,b.jsxs)("div",{className:"p-4 rounded-lg bg-background-secondary text-center",children:[(0,b.jsx)(j.Target,{className:"w-5 h-5 text-accent-purple mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-foreground",children:u.avg_score}),(0,b.jsx)("p",{className:"text-xs text-foreground-muted",children:"Average Score"})]}),(0,b.jsxs)("div",{className:"p-4 rounded-lg bg-background-secondary text-center",children:[(0,b.jsx)(l.TrendingDown,{className:"w-5 h-5 text-accent-green mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-accent-green",children:u.best_score}),(0,b.jsx)("p",{className:"text-xs text-foreground-muted",children:"Best Score"})]}),(0,b.jsxs)("div",{className:"p-4 rounded-lg bg-background-secondary text-center",children:[(0,b.jsx)(k.TrendingUp,{className:"w-5 h-5 text-accent-red mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-accent-red",children:u.worst_score}),(0,b.jsx)("p",{className:"text-xs text-foreground-muted",children:"Worst Score"})]}),(0,b.jsxs)("div",{className:"p-4 rounded-lg bg-background-secondary text-center",children:[(0,b.jsx)(r.Flag,{className:"w-5 h-5 text-accent-amber mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-foreground",children:u.avg_putts}),(0,b.jsx)("p",{className:"text-xs text-foreground-muted",children:"Avg Putts/Round"})]}),(0,b.jsxs)("div",{className:"p-4 rounded-lg bg-background-secondary text-center",children:[(0,b.jsx)(j.Target,{className:"w-5 h-5 text-accent-green mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-foreground",children:u.avg_gir}),(0,b.jsx)("p",{className:"text-xs text-foreground-muted",children:"Avg GIR/Round"})]}),(0,b.jsxs)("div",{className:"p-4 rounded-lg bg-background-secondary text-center",children:[(0,b.jsx)(q.Award,{className:"w-5 h-5 text-accent-blue mx-auto mb-2"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-foreground",children:[u.avg_fairways,"%"]}),(0,b.jsx)("p",{className:"text-xs text-foreground-muted",children:"Fairways Hit"})]}),(0,b.jsxs)("div",{className:"p-4 rounded-lg bg-background-secondary text-center",children:[(0,b.jsx)(i.Trophy,{className:"w-5 h-5 text-accent-amber mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-foreground",children:u.calculated_handicap?.toFixed(1)??"—"}),(0,b.jsx)("p",{className:"text-xs text-foreground-muted",children:"Handicap Index"})]})]}):(0,b.jsxs)("div",{className:"text-center py-8",children:[(0,b.jsx)(j.Target,{className:"w-12 h-12 text-foreground-muted mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-foreground-muted",children:"No rounds logged yet"}),(0,b.jsx)("p",{className:"text-sm text-foreground-muted",children:"Start logging rounds to see your statistics"})]})})]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsx)(d.CardTitle,{children:"How Handicap Index is Calculated"})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)("div",{className:"prose prose-invert max-w-none",children:[(0,b.jsx)("p",{className:"text-foreground-muted",children:"Your Handicap Index is calculated using the World Handicap System (WHS) formula:"}),(0,b.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-foreground-muted mt-4",children:[(0,b.jsxs)("li",{children:[(0,b.jsx)("strong",{className:"text-foreground",children:"Score Differential"})," = (Score - Course Rating) × 113 ÷ Slope Rating"]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("strong",{className:"text-foreground",children:"Best Differentials"})," = Average of best 40% of your last 20 rounds"]}),(0,b.jsxs)("li",{children:[(0,b.jsx)("strong",{className:"text-foreground",children:"Handicap Index"})," = Best Differentials × 0.96"]})]}),(0,b.jsxs)("p",{className:"text-foreground-muted mt-4",children:["You need at least ",(0,b.jsx)("strong",{className:"text-foreground",children:"3 rounds"})," with course and slope ratings to calculate your handicap. For best accuracy, enter the course rating and slope for each round you log."]})]})})]})]})}a.s(["default",()=>s],96050)}];

//# sourceMappingURL=_1f08f4d9._.js.map
module.exports=[96221,a=>{"use strict";let b=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],96221)},92552,a=>{"use strict";var b=a.i(87924),c=a.i(760);function d({children:a,className:d,hover:e=!1,onClick:f}){return(0,b.jsx)("div",{className:(0,c.cn)("rounded-xl border border-card-border bg-card-background p-6",e&&"card-hover cursor-pointer",f&&"cursor-pointer",d),onClick:f,children:a})}function e({children:a,className:d}){return(0,b.jsx)("div",{className:(0,c.cn)("mb-4",d),children:a})}function f({children:a,className:d}){return(0,b.jsx)("h3",{className:(0,c.cn)("text-lg font-semibold text-foreground",d),children:a})}function g({children:a,className:d}){return(0,b.jsx)("p",{className:(0,c.cn)("text-sm text-foreground-muted mt-1",d),children:a})}function h({children:a,className:d}){return(0,b.jsx)("div",{className:(0,c.cn)("",d),children:a})}function i({children:a,className:d}){return(0,b.jsx)("div",{className:(0,c.cn)("mt-4 pt-4 border-t border-card-border",d),children:a})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardFooter",()=>i,"CardHeader",()=>e,"CardTitle",()=>f])},28503,a=>{"use strict";var b=a.i(87924),c=a.i(760);let d=(0,a.i(72131).forwardRef)(({className:a,label:d,error:e,id:f,...g},h)=>{let i=f||d?.toLowerCase().replace(/\s+/g,"-");return(0,b.jsxs)("div",{className:"w-full",children:[d&&(0,b.jsx)("label",{htmlFor:i,className:"block text-sm font-medium text-foreground-muted mb-1.5",children:d}),(0,b.jsx)("input",{ref:h,id:i,className:(0,c.cn)("w-full px-3 py-2 rounded-lg","bg-background-secondary border border-card-border","text-foreground placeholder:text-foreground-muted/50","focus:outline-none focus:ring-2 focus:ring-accent-blue focus:border-transparent","transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed",e&&"border-accent-red focus:ring-accent-red",a),...g}),e&&(0,b.jsx)("p",{className:"mt-1.5 text-sm text-accent-red",children:e})]})});d.displayName="Input",a.s(["Input",0,d])},47885,a=>{"use strict";var b=a.i(87924),c=a.i(760);let d=(0,a.i(72131).forwardRef)(({className:a,label:d,error:e,id:f,options:g,placeholder:h,...i},j)=>{let k=f||d?.toLowerCase().replace(/\s+/g,"-");return(0,b.jsxs)("div",{className:"w-full",children:[d&&(0,b.jsx)("label",{htmlFor:k,className:"block text-sm font-medium text-foreground-muted mb-1.5",children:d}),(0,b.jsxs)("select",{ref:j,id:k,className:(0,c.cn)("w-full px-3 py-2 rounded-lg appearance-none","bg-background-secondary border border-card-border","text-foreground","focus:outline-none focus:ring-2 focus:ring-accent-blue focus:border-transparent","transition-all duration-200","disabled:opacity-50 disabled:cursor-not-allowed","cursor-pointer",e&&"border-accent-red focus:ring-accent-red",a),style:{backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%2394a3b8' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\")",backgroundPosition:"right 0.5rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.5em 1.5em",paddingRight:"2.5rem"},...i,children:[h&&(0,b.jsx)("option",{value:"",disabled:!0,children:h}),g.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]}),e&&(0,b.jsx)("p",{className:"mt-1.5 text-sm text-accent-red",children:e})]})});d.displayName="Select",a.s(["Select",0,d])},52309,a=>{"use strict";var b=a.i(87924),c=a.i(760);function d({className:a}){return(0,b.jsx)("div",{className:(0,c.cn)("animate-pulse rounded-lg bg-background-tertiary",a)})}function e(){return(0,b.jsxs)("div",{className:"rounded-xl border border-card-border bg-card-background p-6",children:[(0,b.jsx)(d,{className:"h-4 w-24 mb-4"}),(0,b.jsx)(d,{className:"h-8 w-32 mb-2"}),(0,b.jsx)(d,{className:"h-3 w-20"})]})}function f(){return(0,b.jsxs)("div",{className:"rounded-xl border border-card-border bg-card-background p-6",children:[(0,b.jsx)(d,{className:"h-5 w-40 mb-6"}),(0,b.jsx)(d,{className:"h-[250px] w-full"})]})}function g(){return(0,b.jsxs)("div",{className:"rounded-xl border border-card-border bg-card-background p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,b.jsx)(d,{className:"w-12 h-12 rounded-xl"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(d,{className:"h-5 w-48 mb-2"}),(0,b.jsx)(d,{className:"h-3 w-24"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,b.jsx)(d,{className:"h-16"}),(0,b.jsx)(d,{className:"h-16"}),(0,b.jsx)(d,{className:"h-16"}),(0,b.jsx)(d,{className:"h-16"})]})]})}a.s(["CardSkeleton",()=>e,"ChartSkeleton",()=>f,"RoundCardSkeleton",()=>g,"Skeleton",()=>d])},58645,a=>{"use strict";a.i(92552),a.i(39524),a.i(28503),a.i(47885),a.i(52309),a.s([])},57531,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(58645);var d=a.i(92552),e=a.i(39524),f=a.i(51444),g=a.i(760),h=a.i(83077),i=a.i(70106);let j=(0,i.default)("medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);var k=a.i(50429),l=a.i(24669),m=a.i(46842),n=a.i(96221);let o=(0,i.default)("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);var p=a.i(93518);function q(){let a=(0,f.createClient)(),[i,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0),[t,u]=(0,c.useState)("handicap"),[v,w]=(0,c.useState)(null);async function x(){s(!0);try{let{data:{user:b}}=await a.auth.getUser();w(b?.id||null);let{data:c,error:d}=await a.from("profiles").select("id, name, email, handicap, is_public").eq("is_public",!0);if(d)throw d;let e=[];for(let b of c||[]){let{data:c}=await a.from("rounds").select("total_score, sg_total").eq("user_id",b.id);if(c&&c.length>0){let a=c.reduce((a,b)=>a+b.total_score,0)/c.length,d=Math.min(...c.map(a=>a.total_score)),f=c.reduce((a,b)=>a+(b.sg_total||0),0)/c.length;e.push({id:b.id,name:b.name,email:b.email,handicap:b.handicap,avg_score:Math.round(10*a)/10,best_score:d,rounds_count:c.length,avg_sg:Math.round(100*f)/100})}}if(b&&!e.find(a=>a.id===b.id)){let{data:c}=await a.from("profiles").select("id, name, email, handicap").eq("id",b.id).single(),{data:d}=await a.from("rounds").select("total_score, sg_total").eq("user_id",b.id);if(c&&d&&d.length>0){let a=d.reduce((a,b)=>a+b.total_score,0)/d.length,b=Math.min(...d.map(a=>a.total_score)),f=d.reduce((a,b)=>a+(b.sg_total||0),0)/d.length;e.push({id:c.id,name:c.name,email:c.email,handicap:c.handicap,avg_score:Math.round(10*a)/10,best_score:b,rounds_count:d.length,avg_sg:Math.round(100*f)/100})}}q(e)}catch(a){console.error("Error loading leaderboard:",a)}finally{s(!1)}}(0,c.useEffect)(()=>{x()},[]);let y=(()=>{let a=[...i];switch(t){case"handicap":return a.filter(a=>null!==a.handicap).sort((a,b)=>(a.handicap||99)-(b.handicap||99));case"avg_score":return a.sort((a,b)=>a.avg_score-b.avg_score);case"best_score":return a.sort((a,b)=>a.best_score-b.best_score);case"strokes_gained":return a.sort((a,b)=>b.avg_sg-a.avg_sg);default:return a}})();return r?(0,b.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,b.jsx)(n.Loader2,{className:"w-8 h-8 animate-spin text-accent-green"})}):(0,b.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,b.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-foreground",children:"Leaderboard"}),(0,b.jsx)("p",{className:"text-foreground-muted mt-1",children:"See how you stack up against other golfers"})]})}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:[{value:"handicap",label:"Handicap",icon:p.Award},{value:"avg_score",label:"Avg Score",icon:k.Target},{value:"best_score",label:"Best Score",icon:h.Trophy},{value:"strokes_gained",label:"Strokes Gained",icon:l.TrendingUp}].map(a=>{let c=a.icon;return(0,b.jsxs)(e.Button,{variant:t===a.value?"primary":"secondary",size:"sm",onClick:()=>u(a.value),children:[(0,b.jsx)(c,{className:"w-4 h-4 mr-2"}),a.label]},a.value)})}),y.length>0?(0,b.jsx)(d.Card,{children:(0,b.jsx)(d.CardContent,{className:"p-0",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-card-border",children:[(0,b.jsx)("th",{className:"p-4 text-left text-foreground-muted font-medium w-16",children:"Rank"}),(0,b.jsx)("th",{className:"p-4 text-left text-foreground-muted font-medium",children:"Player"}),(0,b.jsx)("th",{className:"p-4 text-center text-foreground-muted font-medium",children:"Rounds"}),(0,b.jsx)("th",{className:"p-4 text-center text-foreground-muted font-medium",children:"Avg Score"}),(0,b.jsx)("th",{className:"p-4 text-center text-foreground-muted font-medium",children:"Best"}),(0,b.jsx)("th",{className:"p-4 text-right text-foreground-muted font-medium",children:"handicap"===t?"Handicap":"avg_score"===t?"Avg Score":"best_score"===t?"Best Score":"Avg SG"})]})}),(0,b.jsx)("tbody",{children:y.map((a,c)=>{var d;let e=a.id===v;return(0,b.jsxs)("tr",{className:(0,g.cn)("border-b border-card-border last:border-0 transition-colors",e&&"bg-accent-green/5"),children:[(0,b.jsx)("td",{className:"p-4",children:(0,b.jsx)("div",{className:"w-8 h-8 flex items-center justify-center",children:1===(d=c+1)?(0,b.jsx)(o,{className:"w-5 h-5 text-yellow-400"}):2===d?(0,b.jsx)(j,{className:"w-5 h-5 text-gray-400"}):3===d?(0,b.jsx)(j,{className:"w-5 h-5 text-amber-600"}):(0,b.jsx)("span",{className:"text-foreground-muted font-medium",children:d})})}),(0,b.jsx)("td",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-accent-green/10 flex items-center justify-center",children:(0,b.jsx)(m.User,{className:"w-5 h-5 text-accent-green"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:(0,g.cn)("font-medium",e?"text-accent-green":"text-foreground"),children:[a.name||"Anonymous",e&&" (You)"]}),a.handicap&&(0,b.jsxs)("p",{className:"text-xs text-foreground-muted",children:["HCP: ",a.handicap.toFixed(1)]})]})]})}),(0,b.jsx)("td",{className:"p-4 text-center text-foreground-muted",children:a.rounds_count}),(0,b.jsx)("td",{className:"p-4 text-center text-foreground",children:a.avg_score}),(0,b.jsx)("td",{className:"p-4 text-center text-accent-green font-medium",children:a.best_score}),(0,b.jsx)("td",{className:"p-4 text-right",children:(0,b.jsx)("span",{className:(0,g.cn)("font-bold text-lg","strokes_gained"===t?a.avg_sg>=0?"text-accent-green":"text-accent-red":"text-foreground"),children:(a=>{switch(t){case"handicap":return a.handicap?.toFixed(1)??"—";case"avg_score":return a.avg_score.toFixed(1);case"best_score":return a.best_score.toString();case"strokes_gained":return a.avg_sg>=0?`+${a.avg_sg.toFixed(2)}`:a.avg_sg.toFixed(2);default:return"—"}})(a)})})]},a.id)})})]})})})}):(0,b.jsx)(d.Card,{children:(0,b.jsxs)(d.CardContent,{className:"py-12 text-center",children:[(0,b.jsx)(h.Trophy,{className:"w-12 h-12 text-foreground-muted mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No players yet"}),(0,b.jsx)("p",{className:"text-foreground-muted mb-4",children:"Be the first to make your profile public and appear on the leaderboard!"}),(0,b.jsx)("p",{className:"text-sm text-foreground-muted",children:'Go to Profile → Edit Profile → Enable "Make profile public"'})]})}),(0,b.jsx)(d.Card,{className:"border-accent-blue/20",children:(0,b.jsx)(d.CardContent,{className:"py-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-lg bg-accent-blue/10 flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(m.User,{className:"w-5 h-5 text-accent-blue"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-medium text-foreground mb-1",children:"Privacy Notice"}),(0,b.jsx)("p",{className:"text-sm text-foreground-muted",children:'Only players who have enabled "Make profile public" in their profile settings appear on this leaderboard. Your stats are private by default. Go to Profile to update your visibility settings.'})]})]})})})]})}a.s(["default",()=>q],57531)}];

//# sourceMappingURL=_34d01926._.js.map